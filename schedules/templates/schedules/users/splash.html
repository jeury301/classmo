{% load i18n static %}
{% load splash_images %}
<!DOCTYPE html> 
<html>

<head>
    <title>{% block title %}{% endblock %}</title>
    <!-- Loading Bootstrap -->
    <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap.min.css' %}"/>
    <!-- Loading Font Awesome -->
    <link rel="stylesheet" type="text/css" href="{% static 'css/fontawesome-all.min.css' %}"/>
    <!-- Loading Datatables -->
    <link rel="stylesheet" type="text/css" href="{% static 'css/datatables.min.css' %}"/>
   
    <!-- Loading Admin Base CSS -->
    <link rel="stylesheet" type="text/css" href="{% block stylesheet %}{% static 'admin/css/base.css' %}{% endblock %}" /> 
    {% block extrastyle %}
    {% endblock %} 
    {% if LANGUAGE_BIDI %}
    <link rel="stylesheet" type="text/css" href="{% block stylesheet_rtl %}{% static " admin/css/rtl.css " %}{% endblock %}" />{% endif %} {% block extrahead %}{% endblock %} {% block responsive %}
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <link rel="stylesheet" type="text/css" href="{% static 'admin/css/responsive.css' %}" /> 
    {% if LANGUAGE_BIDI %}
    <link rel="stylesheet" type="text/css" href="{% static 'admin/css/responsive_rtl.css' %}" /> 
    {% endif %} 
    {% endblock %} 
    {% block blockbots %}
    <meta name="robots" content="NONE,NOARCHIVE" />
    {% endblock %}
    <!--Change Lists CSS-->
    <link rel="stylesheet" type="text/css" href="{% static 'admin/css/changelists.css'%}">
    <!--Custom App CSS File-->
    <link rel="stylesheet" type="text/css" href="{% static 'css/app.css'%}">
    <!-- Loading Scripts -->
    <script type="text/javascript" src="{% static 'js/app.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/jquery.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/bootstrap.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/datatables.min.js'%}"></script>
<style>

body
{
  min-height:100vh;
  background-color:{% firstof config.primary_color default_config.primary_color %};
}
#footer {
    /*margin-top:-12vh;*/
    bottom:0;
    height:7vh;
    outline: solid 1px red;
    opacity:0;
    background-color:{% firstof config.primary_color default_config.primary_color %}; 
}

#footer p{
display:inline-block;
margin-top:1vh;
border-bottom:solid 1px #f5dd5d;
z-index:1;
margin-left:100px;
color:{% firstof config.primary_text_color default_config.primary_text_color %};
}
#cover
{
  height:100vh;
  width:100%;
  position:absolute;
  z-index:2;
  background-color:{% firstof config.primary_color default_config.primary_color %}; 
}

.signup-button {
  color: #417690;
  border-color: #417690;
  background-color:{% firstof config.primary_color default_config.primary_color %};
  border-color:{% firstof config.primary_color default_config.primary_color %};
}

.signup-button:hover {
  color: #79aec8;
  border-color: #79aec8;
  background-color:{% firstof config.secondary_color default_config.secondary_color %};
  border-color:{% firstof config.secondary_color default_config.secondary_color %};
}

.signup-button:active {
  color: #79aec8;
  background-color: #79aec8;
  border-color: #79aec8;
}

.signup-button:target {
  color: #79aec8;
  background-color: #79aec8;
  border-color: #79aec8;
}

#cover h1
{
  display:block;
  height:20px; 
  position:absolute;
  bottom:50vh;top:50vh;left:45vw;
  margin:auto;
  color:white;
}

#header
{
  height:7vh;
  opacity:0;
  background:{% firstof config.primary_color default_config.primary_color %};
}

#branding h1 a:link
{
  color:{% firstof config.primary_text_color default_config.primary_text_color %};
}
#branding h1 a:visited
{
  color:{% firstof config.primary_text_color default_config.primary_text_color %};
}
#card
{
  width:23rem;
  height:16rem;
  margin-top:-15rem;
  z-index:1;
  position: absolute;
  opacity:0;
  background: transparent;
  color:white;
  margin-top: 0px
  padding-to;: 0px;
  border: none;
}
#card-body
{
  margin-top: 0px; 
  padding-top: 0px;
}
#card-title
{
  display:block;
  width:100%;
  align-items:center;
  margin:auto;
  text-align:center;
}

#card-body a
{
  display:block;
  width:95%;
  align-items:center;
  margin:auto;
}

#card-body span
{
  color:white; 
  font-size: 20px;
}

#card h1 {
  color:white;
  font-size: 40px;
  font-weight: bolder;
  padding-bottom: 25px
}

#card-header-classmo
{
  background-color:transparent;
 /* border:1px #f5dd5d solid;*/
  color:white;
  border-color: transparent;
  text-align:center;
  padding-bottom: 0px;
  margin-bottom: 0px;
}

#card-header-classmo h1
{
  color:white;
  font-size: 70px;
  font-weight: bolder;
  margin-bottom: 0px
  padding-bottom: 0px;
}

#container {
  height:93vh;
  background-color:{% firstof config.primary_color default_config.primary_color %};
}

#cf {
  position:relative;
  width:100%;
  height:86vh;
  margin:0 auto;
  z-index:1;
}


/*.blue-background {background-color:#417690;}*/

#cf span
{
position:absolute;
bottom:0;
right:0;
animation-name: cfFadeInOut;
animation-timing-function: ease-in-out;
animation-iteration-count: infinite;
color:#c1c1c1;
font-size:.5rem;
}

#cf img {
  position:absolute;
  height:100%;
  width:100%;
  object-fit: cover;
  left:0;
  /*
  -webkit-transition: opacity 1s ease-in-out;
  -moz-transition: opacity 1s ease-in-out;
  -o-transition: opacity 1s ease-in-out;
  transition: opacity 1s ease-in-out;
  */
  animation-name: cfFadeInOut;
  animation-timing-function: ease-in-out;
  animation-iteration-count: infinite;
  
  
}

#classmo-logo-big {
  color:white;
}

/* n=number of images
   a=image vissible duration in seconds a=8
   b=image crossfade duration in seconds b=2
   t=total animation duration =(a+b)*n =30
  START OF TRANSITION SECTION
*/
{% if default_config.splash_images %}
{% with trans_info=default_config.splash_images|get_transition_info %}
{% if trans_info %}
#cf img, #cf span
{
  animation-duration: {{trans_info.t}}s;
}
@keyframes cfFadeInOut {
  0% {
    opacity:1;  /* always 0 */
  }
  {{ trans_info.oplist.0 }}% 
  {
    opacity:1; /* a/t   */
  }
  {{ trans_info.oplist.1 }}% {
    opacity:0;  /* (a+b)/t*100%  */
  }
  {{ trans_info.oplist.2 }}% {
    opacity:0;  /* 100%-(b/t*100%)    */
  }
  100% {
    opacity:1;  /* always 100% */
  }
}

{% for key in trans_info.image_of_nth %}
#cf img:nth-of-type({{forloop.counter}}) 
{
  animation-delay: {{key}}s;
}
#cf span:nth-of-type({{forloop.counter}}) 
{
  animation-delay: {{key}}s;
}

{% endfor %}
{% endif %}
{% endwith %}
{% else %}
{% with trans_info=config.splash_images|get_transition_info %}
{% if trans_info %}
#cf img, #cf span
{
  animation-duration: {{trans_info.t}}s;
}
@keyframes cfFadeInOut {
  0% {
    opacity:1;  /* always 0 */
  }
  {{ trans_info.oplist.0 }}% {
    opacity:1; /* a/t   */
  }
  {{ trans_info.oplist.1 }}% {
    opacity:0;  /* (a+b)/t*100%  */
  }
  {{ trans_info.oplist.2 }}% {
    opacity:0;  /* 100%-(b/t*100%)    */
  }
  100% {
    opacity:1;  /* always 100% */
  }
}

{% for key in trans_info.image_of_nth %}
{{ forloop.counter0 }}
#cf img:nth-of-type({{forloop.counter}}s) {
  animation-delay: {{key}}s;
}
#cf span:nth-of-type({{forloop.counter}}) 
{
  animation-delay: {{key}}s;
}
{% endfor %}
{% endif %}
{% endwith %}
{% endif %}
/* END OF TRANSISTION SECTION */

</style>
 <script>
function unfade(element) {
    var op = 0.01;  // initial opacity
    element.style.display = 'block';
    var timer = setInterval(function () {
        if (op >= 1){
            clearInterval(timer);
        }
        element.style.opacity = op;
        element.style.filter = 'alpha(opacity=' + op * 100 + ")";
        op += op * 0.2;
    }, 50);
}
function unfadefast(element) {
    var op = 0.09;  // initial opacity
    element.style.display = 'block';
    var timer = setInterval(function () {
        if (op >= 1){
            clearInterval(timer);
        }
        element.style.opacity = op;
        element.style.filter = 'alpha(opacity=' + op * 100 + ")";
        op += op * 0.1;
    }, 50);
}



function myMove(element) {
  var pos = 0;
  var bodyW = ($(document).width())/2;
  var cardW = ($(element).width())/2;
  var final=bodyW-cardW;
  var id = setInterval(frame, 5);
  element.style.visibility="visible";
  function frame() {
    if (pos >= final) {
      clearInterval(id);
    } else {
      pos+=2; 
      //element.style.top = pos + 'px'; 
      element.style.left = pos + 'px'; 
    }
  }
  //setTimeout(changeimage,5000);
}
window.onresize = function(event) {

var card=document.getElementById("card");
var bodyW = ($(document).width())/2;
var bodyH=($(document).height()/2)
var cardW = ($(card).width())/2;
var cardH=($(card).height())/2;
card.style.left=bodyW-cardW+"px";
card.style.bottom=bodyH-cardH+"px";
console.log("Triggered "+card.style.left);
    
};

function centercard() {
var card =document.getElementById('card');
var bodyW = ($(document).width())/2;
var cardW = ($(card).width())/2;
var bodyH=($(document).height()/2)
var cardH=($(card).height())/2;
card.style.left=bodyW-cardW+"px";
card.style.bottom=bodyH-cardH+"px";
console.log("Centered");

}



</script>
</head>
{% load i18n %}
<body>
    <!-- Container -->
    <div id="cover"><h1>Loading Classmo<i id="spinner" class="fa fa-spinner fa-spin"></i></h1></div>
        <div id="container">
            <!-- Header -->
            <div id="header">
                <div id="branding">
                    <h1 id="site-name">
                    <a href="/">
                      {%if config.logo == 'disabled' %}
                      <span id="brand">{{config.logo}}</span>
                      {% else %}
                      {% firstof config.company default_config.company %}
                      {% endif %}
                    </a>
                    </h1>
                </div>
            </div>
            <div id="cf">
                      {% if config.splash_images %} 
                      {% for image in config.splash_images %} 
                      {% with credit=config.splash_images|get_credit:image %}
                      <img src="{{image}}" />
                      <span>{{credit}}</span> 
                      {% endwith %} {% endfor %} 
                      {% else %} 
                      {% for image in default_config.splash_images %} 
                      {% with credit=default_config.splash_images|get_credit:image %}
                      <img src="{% static image %}" />
                      <span>{{credit}}</span> 
                      {% endwith %} {% endfor %} {% endif %}
            </div>
            <!-- END Header -->
            <!-- Content -->
            <!-- Card -->
            <div id="card" class="card" >
                <div class="card-header" id="card-header-classmo">
                  <span id="classmo-logo-big">
                    <h1>
                      {%if config.logo %}
                      <span><img src="{{config.logo}}" width="100%" height="100%"></span>
                      {% else %}
                      {% firstof config.company default_config.company %}
                      {% endif %}
                    </h1>
                  </span>
                </div>
                <div class="card-body" id="card-body">
<!--                     <h1 style="display:block;width:100%;align-items:center;margin:auto;text-align:center;" class="card-title">Get ready to succeed</h1> -->
                    <h1 class="card-title" id="card-title">{%firstof config.slogan default_config.slogan %}</h1>
<!--                     <p style="display:block;width:100%;align-items:center;margin:auto;text-align:center; margin-top: 0px" class="card-text">Organize, schedule, meet, achieve</p>
                    <br> -->
                    <a href="{% url 'schedules:register' %}" class="btn btn-primary blue-background signup-button">
                        <span>Signup</span>
                      </a>
                    <br>
                    <a href="{% url 'login' %}" class="btn btn-primary blue-background signup-button">
                        <span>Already a member?</span> 
                    </a>
                </div>
            </div>
            <!--end card -->
          </div>
            <!-- END Container -->
        
    <div id="footer">
        <p>About</p>
        <p>Get Classmo</p>
        <p>Legal</p>
    </div>
   
    <!--end cover -->
   <script>
  $(window).on('load', function () {
    centercard();
    $("#cover").fadeOut(1000);
    unfadefast(card);
   setTimeout(unfade(footer),9000);
   setTimeout(unfade(header),9000);

 });
    
 
    </script>
</body>
</html>